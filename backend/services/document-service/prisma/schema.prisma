datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Document {
  id                  String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id             String    @db.Uuid
  appointment_id      String?   @db.Uuid
  document_type       String    @db.VarChar(100)
  original_filename   String?   @db.VarChar(255)
  file_path           String
  file_size           Int?
  mime_type           String?   @db.VarChar(100)
  ocr_text            String?
  ocr_confidence      Decimal?  @db.Decimal(5, 4)
  verification_status String    @default("pending") @db.VarChar(50)
  verified_by         String?   @db.Uuid
  verified_at         DateTime?
  expiry_date         DateTime?
  created_at          DateTime  @default(now())

  @@map("documents")
}

model AuditLog {
  id        Int      @id @default(autoincrement())
  action    String
  entity    String
  entityId  Int
  timestamp DateTime @default(now())
  @@map("audit_logs")
}
